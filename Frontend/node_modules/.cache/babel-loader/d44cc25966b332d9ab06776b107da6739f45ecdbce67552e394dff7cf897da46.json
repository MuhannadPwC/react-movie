{"ast":null,"code":"import _slicedToArray from\"/Users/muhannadalomari/Desktop/2023 Interns Batch/react-project/react-movie-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";var FetchPopular=function FetchPopular(url){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],setData=_useState6[1];useEffect(function(){var abort=new AbortController();fetch(url,{signal:abort.signal}).then(function(res){if(!res.ok){throw Error('Data was not obtained');}return res.json();}).then(function(data){setIsLoading(false);setError(null);setData(data);}).catch(function(err){if(err.name===\"AbortError\"){console.log(err);}else{setIsLoading(false);setError(err.message);}});return function(){return abort.abort;};},[url]);return{data:data,error:error,isLoading:isLoading};};export default FetchPopular;","map":{"version":3,"names":["useEffect","useState","FetchPopular","url","_useState","_useState2","_slicedToArray","error","setError","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","data","setData","abort","AbortController","fetch","signal","then","res","ok","Error","json","catch","err","name","console","log","message"],"sources":["/Users/muhannadalomari/Desktop/2023 Interns Batch/react-project/react-movie-app/src/Fetch/FetchPopular.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\n\nconst FetchPopular = (url) => {\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [data, setData] = useState();\n\n  useEffect(() => {\n    const abort = new AbortController();\n    \n    fetch(url, { signal: abort.signal })\n    .then(res => {\n      if(!res.ok) {\n        throw Error('Data was not obtained');\n      } \n      return res.json();\n    })\n    .then(data => {\n      setIsLoading(false);\n      setError(null);\n      setData(data);\n    })\n    .catch(err => {\n      if(err.name === \"AbortError\") {\n        console.log(err);\n      } else {\n        setIsLoading(false);\n        setError(err.message);\n      }\n    })\n\n    return () => abort.abort;\n  }, [url]);\n\n  return { data, error, isLoading };\n};\n \nexport default FetchPopular;"],"mappings":"qKAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAE3C,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,GAAG,CAAK,CAC5B,IAAAC,SAAA,CAA0BH,QAAQ,CAAC,IAAI,CAAC,CAAAI,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAjCG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IACtB,IAAAI,UAAA,CAAkCR,QAAQ,CAAC,IAAI,CAAC,CAAAS,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAzCE,SAAS,CAAAD,UAAA,IAAEE,YAAY,CAAAF,UAAA,IAC9B,IAAAG,UAAA,CAAwBZ,QAAQ,EAAE,CAAAa,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAA3BE,IAAI,CAAAD,UAAA,IAAEE,OAAO,CAAAF,UAAA,IAEpBd,SAAS,CAAC,UAAM,CACd,GAAM,CAAAiB,KAAK,CAAG,GAAI,CAAAC,eAAe,EAAE,CAEnCC,KAAK,CAAChB,GAAG,CAAE,CAAEiB,MAAM,CAAEH,KAAK,CAACG,MAAO,CAAC,CAAC,CACnCC,IAAI,CAAC,SAAAC,GAAG,CAAI,CACX,GAAG,CAACA,GAAG,CAACC,EAAE,CAAE,CACV,KAAM,CAAAC,KAAK,CAAC,uBAAuB,CAAC,CACtC,CACA,MAAO,CAAAF,GAAG,CAACG,IAAI,EAAE,CACnB,CAAC,CAAC,CACDJ,IAAI,CAAC,SAAAN,IAAI,CAAI,CACZH,YAAY,CAAC,KAAK,CAAC,CACnBJ,QAAQ,CAAC,IAAI,CAAC,CACdQ,OAAO,CAACD,IAAI,CAAC,CACf,CAAC,CAAC,CACDW,KAAK,CAAC,SAAAC,GAAG,CAAI,CACZ,GAAGA,GAAG,CAACC,IAAI,GAAK,YAAY,CAAE,CAC5BC,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC,CAClB,CAAC,IAAM,CACLf,YAAY,CAAC,KAAK,CAAC,CACnBJ,QAAQ,CAACmB,GAAG,CAACI,OAAO,CAAC,CACvB,CACF,CAAC,CAAC,CAEF,MAAO,kBAAM,CAAAd,KAAK,CAACA,KAAK,GAC1B,CAAC,CAAE,CAACd,GAAG,CAAC,CAAC,CAET,MAAO,CAAEY,IAAI,CAAJA,IAAI,CAAER,KAAK,CAALA,KAAK,CAAEI,SAAS,CAATA,SAAU,CAAC,CACnC,CAAC,CAED,cAAe,CAAAT,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}