{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { api_key, url } from \"../Global\";\nconst SearchFetch = function (search) {\n  _s();\n  let year = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  let page = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  const [data, setData] = useState();\n  useEffect(() => {\n    const abort = new AbortController();\n    fetch(`${url}/search/movie?api_key=${api_key}&language=en-US&query=${search}&page=${page}&year=${year}`).then(res => {\n      if (!res.ok) {\n        throw Error('Data was not obtained');\n      }\n      return res.json();\n    }).then(data => {\n      setData(data);\n    }).catch(err => {\n      if (err.name === \"AbortError\") {\n        console.log(err);\n      } else {}\n    });\n    return () => abort.abort;\n  });\n  return data;\n};\n_s(SearchFetch, \"WZ2PO9A64oHRexE1CE+yX3ebuoA=\");\n_c = SearchFetch;\nexport default SearchFetch;\nvar _c;\n$RefreshReg$(_c, \"SearchFetch\");","map":{"version":3,"names":["useEffect","useState","api_key","url","SearchFetch","search","_s","year","arguments","length","undefined","page","data","setData","abort","AbortController","fetch","then","res","ok","Error","json","catch","err","name","console","log","_c","$RefreshReg$"],"sources":["/Users/muhannadalomari/Desktop/2023 Interns Batch/react-project/react-movie-app/src/Fetch/SearchFetch.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { api_key, url } from \"../Global\";\n\nconst SearchFetch = (search, year = '', page = 1) => {\n  const [data, setData] = useState();\n\n\n  useEffect(() => {\n    const abort = new AbortController();\n\n    fetch(`${url}/search/movie?api_key=${api_key}&language=en-US&query=${search}&page=${page}&year=${year}`)\n    .then((res) => {\n      if(!res.ok) {\n        throw Error('Data was not obtained');\n      } \n      return res.json()\n    })\n    .then((data) => {\n      setData(data);\n    })\n    .catch((err) => {\n      if(err.name === \"AbortError\") {\n        console.log(err);\n      } else {\n      }\n    })\n\n    return () => abort.abort;\n  });\n\n  return data;\n}\n \nexport default SearchFetch;"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,OAAO,EAAEC,GAAG,QAAQ,WAAW;AAExC,MAAMC,WAAW,GAAG,SAAAA,CAACC,MAAM,EAA0B;EAAAC,EAAA;EAAA,IAAxBC,IAAI,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;EAAA,IAAEG,IAAI,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC;EAC9C,MAAM,CAACI,IAAI,EAAEC,OAAO,CAAC,GAAGZ,QAAQ,EAAE;EAGlCD,SAAS,CAAC,MAAM;IACd,MAAMc,KAAK,GAAG,IAAIC,eAAe,EAAE;IAEnCC,KAAK,CAAE,GAAEb,GAAI,yBAAwBD,OAAQ,yBAAwBG,MAAO,SAAQM,IAAK,SAAQJ,IAAK,EAAC,CAAC,CACvGU,IAAI,CAAEC,GAAG,IAAK;MACb,IAAG,CAACA,GAAG,CAACC,EAAE,EAAE;QACV,MAAMC,KAAK,CAAC,uBAAuB,CAAC;MACtC;MACA,OAAOF,GAAG,CAACG,IAAI,EAAE;IACnB,CAAC,CAAC,CACDJ,IAAI,CAAEL,IAAI,IAAK;MACdC,OAAO,CAACD,IAAI,CAAC;IACf,CAAC,CAAC,CACDU,KAAK,CAAEC,GAAG,IAAK;MACd,IAAGA,GAAG,CAACC,IAAI,KAAK,YAAY,EAAE;QAC5BC,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC;MAClB,CAAC,MAAM,CACP;IACF,CAAC,CAAC;IAEF,OAAO,MAAMT,KAAK,CAACA,KAAK;EAC1B,CAAC,CAAC;EAEF,OAAOF,IAAI;AACb,CAAC;AAAAN,EAAA,CA5BKF,WAAW;AAAAuB,EAAA,GAAXvB,WAAW;AA8BjB,eAAeA,WAAW;AAAC,IAAAuB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}